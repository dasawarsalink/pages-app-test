"use strict";(self.webpackChunkmainapp=self.webpackChunkmainapp||[]).push([[9347],{6408:function(e,t,a){var n=a(5773),l=a(3782),i=a(7378),r=a(8037),o=a(582),c=a(7833),s=a(7269),d=a(2799),u=a(8815),m=a(1542),p="undefined"==typeof window?i.useEffect:i.useLayoutEffect,v=i.forwardRef((function(e,t){var a=e.alignItems,o=void 0===a?"center":a,v=e.autoFocus,Z=void 0!==v&&v,f=e.button,E=void 0!==f&&f,g=e.children,b=e.classes,h=e.className,y=e.component,C=e.ContainerComponent,k=void 0===C?"li":C,D=e.ContainerProps,x=(D=void 0===D?{}:D).className,A=(0,l.Z)(D,["className"]),N=e.dense,w=void 0!==N&&N,I=e.disabled,S=void 0!==I&&I,P=e.disableGutters,z=void 0!==P&&P,M=e.divider,T=void 0!==M&&M,B=e.focusVisibleClassName,L=e.selected,R=void 0!==L&&L,V=(0,l.Z)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),F=i.useContext(u.Z),W={dense:w||F.dense||!1,alignItems:o},$=i.useRef(null);p((function(){Z&&$.current&&$.current.focus()}),[Z]);var G=i.Children.toArray(g),K=G.length&&(0,s.Z)(G[G.length-1],["ListItemSecondaryAction"]),j=i.useCallback((function(e){$.current=m.findDOMNode(e)}),[]),O=(0,d.Z)(j,t),Y=(0,n.Z)({className:(0,r.Z)(b.root,h,W.dense&&b.dense,!z&&b.gutters,T&&b.divider,S&&b.disabled,E&&b.button,"center"!==o&&b.alignItemsFlexStart,K&&b.secondaryAction,R&&b.selected),disabled:S},V),q=y||"li";return E&&(Y.component=y||"div",Y.focusVisibleClassName=(0,r.Z)(b.focusVisible,B),q=c.Z),K?(q=Y.component||y?q:"div","li"===k&&("li"===q?q="div":"li"===Y.component&&(Y.component="div")),i.createElement(u.Z.Provider,{value:W},i.createElement(k,(0,n.Z)({className:(0,r.Z)(b.container,x),ref:O},A),i.createElement(q,Y,G),G.pop()))):i.createElement(u.Z.Provider,{value:W},i.createElement(q,(0,n.Z)({ref:O},Y),G))}));t.Z=(0,o.Z)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(v)},6747:function(e,t,a){var n=a(5773),l=a(3782),i=a(7378),r=a(8037),o=a(582),c=i.forwardRef((function(e,t){var a=e.classes,o=e.className,c=(0,l.Z)(e,["classes","className"]);return i.createElement("div",(0,n.Z)({className:(0,r.Z)(a.root,o),ref:t},c))}));c.muiName="ListItemSecondaryAction",t.Z=(0,o.Z)({root:{position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"}},{name:"MuiListItemSecondaryAction"})(c)},3438:function(e,t,a){a.r(t);var n=a(7576),l=a(6408),i=a(3498),r=a(551),o=a(6747),c=a(4738),s=a(6158),d=a(1126),u=a(1777),m=a(3991),p=a(8639),v=a(1447),Z=a(4800),f=a(3959),E=a(5414),g=a(7378),b=a(9374),h=a(4297),y=a(3018),C=a(2628),k=a(5213),D=a(9408),x=a(3646),A=a(4140),N=a(1844);t.default=function(){(0,h.ZE)();var e=g.useState(null),t=e[0],a=e[1],w=g.useState(null),I=w[0],S=w[1],P=g.useState(null),z=P[0],M=P[1],T=g.useState(0),B=T[0],L=T[1],R=(0,b.w)("/biller/pdam/geolookup"),V=g.useMemo((function(){return I&&R?R.data.find((function(e){return e.id===I})):null}),[R,I]),F=(0,b.w)(t?"/biller/pdam/postpaid?"+(0,D.dp)({custid:t,geolookup:z}):null,null,(function(e){alert(e.message),a(null)}));return g.createElement("div",null,g.createElement(k.Z,null),g.createElement("form",{style:{padding:"1em"},onSubmit:function(e){e.preventDefault(),a(e.currentTarget.account.value)}},g.createElement(n.Z,null,g.createElement(l.Z,null,g.createElement(i.Z,null,g.createElement("img",{src:x.Z,height:"40px",alt:""})),g.createElement(r.Z,{primary:"Bayar Tagihan PDAM"})),g.createElement(l.Z,null,g.createElement(r.Z,{primary:"Provinsi"}),g.createElement(o.Z,null,g.createElement(c.Z,{disabled:!R,style:{minWidth:"50vw"}},g.createElement(s.Z,{native:!0,value:I,onChange:function(e){S(e.target.value),M(null)}},g.createElement("option",{value:""}),R?R.data.map((function(e){return g.createElement("option",{key:e.id,value:e.id},e.name)})):[])))),g.createElement(l.Z,null,g.createElement(r.Z,{primary:"Kabupaten"}),g.createElement(o.Z,null,g.createElement(c.Z,{disabled:!V,style:{minWidth:"50vw"}},g.createElement(s.Z,{native:!0,value:z,onChange:function(e){M(e.target.value)}},g.createElement("option",{value:""}),V?V.descendants.map((function(e){return g.createElement("option",{key:e.id,value:e.id},e.name)})):[])))),g.createElement(l.Z,null,g.createElement(d.Z,{name:"account",disabled:!z,label:"Nomor Meter",variant:"filled",fullWidth:!0})),g.createElement(l.Z,null,g.createElement(u.Z,{type:"submit",variant:"contained",color:"primary"},"Cek"),g.createElement(u.Z,{style:{marginLeft:"auto"},variant:"outlined",onClick:function(){return(0,E.navigate)("/user/")}},"Kembali")))),g.createElement(y.Z,{data:F,visible:t},(function(){return g.createElement(m.Z,{elevation:5},g.createElement(n.Z,null,g.createElement(N.Z,{label:"ID Pelanggan",value:F.custid}),g.createElement(N.Z,{label:"Nama",value:F.details.nama}),g.createElement(N.Z,{label:"Tagihan",value:(0,D.zD)(F.details.tagihan)}),g.createElement(N.Z,{label:"Denda",value:(0,D.zD)(F.details.denda)}),g.createElement(N.Z,{label:"Biaya Admin",value:(0,D.zD)(F.details.admin)}),g.createElement(N.Z,{label:"Total Bayar",value:(0,D.zD)(F.details.total),strong:!0}),g.createElement(l.Z,null,g.createElement(p.Z,{style:{width:"100%"}},g.createElement(v.Z,{expandIcon:g.createElement(A.Z,null)},g.createElement(Z.Z,{variant:"h6"},"Rincian Tagihan")),g.createElement(f.Z,{style:{flexDirection:"column"}},g.createElement(n.Z,{dense:!0},F.details.rincian.map((function(e){return g.createElement(g.Fragment,null,g.createElement(N.Z,{label:"Periode",value:e.periode+""}),g.createElement(N.Z,{label:"Meter Awal",value:e.meterAwal+""}),g.createElement(N.Z,{label:"Meter Akhir",value:e.meterAkhir+""}),g.createElement(N.Z,{label:"Pemakaian",value:e.pemakaian+""}),g.createElement(N.Z,{label:"Tagihan",value:(0,D.zD)(e.tagihan)}),g.createElement(N.Z,{label:"Admin",value:(0,D.zD)(e.admin)}),g.createElement(N.Z,{label:"Denda",value:(0,D.zD)(e.denda)}),g.createElement(N.Z,{label:"Total",value:(0,D.zD)(e.total),divider:!0}))})))))),g.createElement(l.Z,null,g.createElement(u.Z,{fullWidth:!0,color:"primary",variant:"contained",style:{marginLeft:"auto"},onClick:function(){return L(2)}},"Beli"))))})),g.createElement(C.Z,{open:B>=2,submitting:3===B,onClose:function(){return L(0)},onAction:function(e){L(3),b.Z.post("/biller/pdam/postpaid",{custid:F.custid,geolookup:z,pin:e}).then((function(e){alert("Berhasil"),(0,E.navigate)("/digital/history/")})).catch((function(e){var t;alert((null===(t=e.response)||void 0===t?void 0:t.data.message)||e.message),L(2)}))}}))}},3646:function(e,t,a){t.Z=a.p+"static/Icon PDAM-e8aa6702685933903c48f8c373d56a40.png"}}]);
//# sourceMappingURL=component---src-pages-digital-pdam-jsx-ed266d6c593ec83471c4.js.map