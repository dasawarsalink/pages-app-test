(self.webpackChunkmainserv=self.webpackChunkmainserv||[]).push([[291],{8275:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return be}});var r=n(2122),a=n(1253),o=n(6156),l=n(7294),i=n(5505),c=n(638),p=n(1664),s=n(2323),m=n(494),u=l.forwardRef((function(e,t){var n=e.children,o=e.classes,c=e.className,p=e.invisible,s=void 0!==p&&p,u=e.open,d=e.transitionDuration,f=e.TransitionComponent,h=void 0===f?m.Z:f,E=(0,a.Z)(e,["children","classes","className","invisible","open","transitionDuration","TransitionComponent"]);return l.createElement(h,(0,r.Z)({in:u,timeout:d},E),l.createElement("div",{className:(0,i.Z)(o.root,c,s&&o.invisible),"aria-hidden":!0,ref:t},n))})),d=(0,c.Z)({root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},{name:"MuiBackdrop"})(u),f=n(381),h=n(8063),E={enter:f.x9.enteringScreen,exit:f.x9.leavingScreen},v=l.forwardRef((function(e,t){var n=e.BackdropProps,o=e.children,c=e.classes,u=e.className,f=e.disableBackdropClick,v=void 0!==f&&f,g=e.disableEscapeKeyDown,y=void 0!==g&&g,Z=e.fullScreen,b=void 0!==Z&&Z,x=e.fullWidth,k=void 0!==x&&x,w=e.maxWidth,C=void 0===w?"sm":w,W=e.onBackdropClick,S=e.onClose,P=e.onEnter,A=e.onEntered,B=e.onEntering,K=e.onEscapeKeyDown,N=e.onExit,T=e.onExited,D=e.onExiting,R=e.open,M=e.PaperComponent,I=void 0===M?h.Z:M,F=e.PaperProps,H=void 0===F?{}:F,z=e.scroll,$=void 0===z?"paper":z,j=e.TransitionComponent,G=void 0===j?m.Z:j,L=e.transitionDuration,Y=void 0===L?E:L,O=e.TransitionProps,X=e["aria-describedby"],q=e["aria-labelledby"],J=(0,a.Z)(e,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),U=l.useRef();return l.createElement(s.Z,(0,r.Z)({className:(0,i.Z)(c.root,u),BackdropComponent:d,BackdropProps:(0,r.Z)({transitionDuration:Y},n),closeAfterTransition:!0},v?{disableBackdropClick:v}:{},{disableEscapeKeyDown:y,onEscapeKeyDown:K,onClose:S,open:R,ref:t},J),l.createElement(G,(0,r.Z)({appear:!0,in:R,timeout:Y,onEnter:P,onEntering:B,onEntered:A,onExit:N,onExiting:D,onExited:T,role:"none presentation"},O),l.createElement("div",{className:(0,i.Z)(c.container,c["scroll".concat((0,p.Z)($))]),onMouseUp:function(e){e.target===e.currentTarget&&e.target===U.current&&(U.current=null,W&&W(e),!v&&S&&S(e,"backdropClick"))},onMouseDown:function(e){U.current=e.target}},l.createElement(I,(0,r.Z)({elevation:24,role:"dialog","aria-describedby":X,"aria-labelledby":q},H,{className:(0,i.Z)(c.paper,c["paperScroll".concat((0,p.Z)($))],c["paperWidth".concat((0,p.Z)(String(C)))],H.className,b&&c.paperFullScreen,k&&c.paperFullWidth)}),o))))})),g=(0,c.Z)((function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":(0,o.Z)({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":(0,o.Z)({},e.breakpoints.down(e.breakpoints.values.sm+64),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":(0,o.Z)({},e.breakpoints.down(e.breakpoints.values.md+64),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":(0,o.Z)({},e.breakpoints.down(e.breakpoints.values.lg+64),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":(0,o.Z)({},e.breakpoints.down(e.breakpoints.values.xl+64),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}}),{name:"MuiDialog"})(v),y=n(453),Z=l.forwardRef((function(e,t){var n=e.children,o=e.classes,c=e.className,p=e.disableTypography,s=void 0!==p&&p,m=(0,a.Z)(e,["children","classes","className","disableTypography"]);return l.createElement("div",(0,r.Z)({className:(0,i.Z)(o.root,c),ref:t},m),s?n:l.createElement(y.Z,{component:"h2",variant:"h6"},n))})),b=(0,c.Z)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(Z),x=n(5061),k=(n(5697),n(4131));function w(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}function C(e){var t=function(t){var n=e(t);return t.css?(0,r.Z)({},(0,k.Z)(n,e((0,r.Z)({theme:t.theme},t.css))),w(t.css,[e.filterProps])):t.sx?(0,r.Z)({},(0,k.Z)(n,e((0,r.Z)({theme:t.theme},t.sx))),w(t.sx,[e.filterProps])):n};return t.propTypes={},t.filterProps=["css","sx"].concat((0,x.Z)(e.filterProps)),t}var W=C;var S=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(e){return t.reduce((function(t,n){var r=n(e);return r?(0,k.Z)(t,r):t}),{})};return r.propTypes={},r.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),r},P=n(3592);function A(e,t){return t&&"string"==typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}var B=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,a=e.themeKey,l=e.transform,i=function(e){if(null==e[t])return null;var n=e[t],i=A(e.theme,a)||{};return(0,P.k)(e,n,(function(e){var t;return"function"==typeof i?t=i(e):Array.isArray(i)?t=i[e]||e:(t=A(i,e)||e,l&&(t=l(t))),!1===r?t:(0,o.Z)({},r,t)}))};return i.propTypes={},i.filterProps=[t],i};function K(e){return"number"!=typeof e?e:"".concat(e,"px solid")}var N=S(B({prop:"border",themeKey:"borders",transform:K}),B({prop:"borderTop",themeKey:"borders",transform:K}),B({prop:"borderRight",themeKey:"borders",transform:K}),B({prop:"borderBottom",themeKey:"borders",transform:K}),B({prop:"borderLeft",themeKey:"borders",transform:K}),B({prop:"borderColor",themeKey:"palette"}),B({prop:"borderRadius",themeKey:"shape"})),T=S(B({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),B({prop:"display"}),B({prop:"overflow"}),B({prop:"textOverflow"}),B({prop:"visibility"}),B({prop:"whiteSpace"})),D=S(B({prop:"flexBasis"}),B({prop:"flexDirection"}),B({prop:"flexWrap"}),B({prop:"justifyContent"}),B({prop:"alignItems"}),B({prop:"alignContent"}),B({prop:"order"}),B({prop:"flex"}),B({prop:"flexGrow"}),B({prop:"flexShrink"}),B({prop:"alignSelf"}),B({prop:"justifyItems"}),B({prop:"justifySelf"})),R=S(B({prop:"gridGap"}),B({prop:"gridColumnGap"}),B({prop:"gridRowGap"}),B({prop:"gridColumn"}),B({prop:"gridRow"}),B({prop:"gridAutoFlow"}),B({prop:"gridAutoColumns"}),B({prop:"gridAutoRows"}),B({prop:"gridTemplateColumns"}),B({prop:"gridTemplateRows"}),B({prop:"gridTemplateAreas"}),B({prop:"gridArea"})),M=S(B({prop:"position"}),B({prop:"zIndex",themeKey:"zIndex"}),B({prop:"top"}),B({prop:"right"}),B({prop:"bottom"}),B({prop:"left"})),I=S(B({prop:"color",themeKey:"palette"}),B({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"})),F=B({prop:"boxShadow",themeKey:"shadows"});function H(e){return e<=1?"".concat(100*e,"%"):e}var z=B({prop:"width",transform:H}),$=B({prop:"maxWidth",transform:H}),j=B({prop:"minWidth",transform:H}),G=B({prop:"height",transform:H}),L=B({prop:"maxHeight",transform:H}),Y=B({prop:"minHeight",transform:H}),O=(B({prop:"size",cssProperty:"width",transform:H}),B({prop:"size",cssProperty:"height",transform:H}),S(z,$,j,G,L,Y,B({prop:"boxSizing"}))),X=n(5408),q=S(B({prop:"fontFamily",themeKey:"typography"}),B({prop:"fontSize",themeKey:"typography"}),B({prop:"fontStyle",themeKey:"typography"}),B({prop:"fontWeight",themeKey:"typography"}),B({prop:"letterSpacing"}),B({prop:"lineHeight"}),B({prop:"textAlign"})),J=n(519),U=W(S(N,T,D,R,M,I,F,O,X.Z,q)),Q=(0,J.Z)("div")(U,{name:"MuiBox"}),V=l.forwardRef((function(e,t){var n=e.classes,o=e.className,c=e.dividers,p=void 0!==c&&c,s=(0,a.Z)(e,["classes","className","dividers"]);return l.createElement("div",(0,r.Z)({className:(0,i.Z)(n.root,o,p&&n.dividers),ref:t},s))})),_=(0,c.Z)((function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}}),{name:"MuiDialogContent"})(V),ee=l.forwardRef((function(e,t){var n=e.disableSpacing,o=void 0!==n&&n,c=e.classes,p=e.className,s=(0,a.Z)(e,["disableSpacing","classes","className"]);return l.createElement("div",(0,r.Z)({className:(0,i.Z)(c.root,p,!o&&c.spacing),ref:t},s))})),te=(0,c.Z)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(ee),ne=n(3332),re=n(791),ae=n(4381),oe=n(8030),le=n(4997),ie=n(1690),ce=n(1218),pe=n(706),se=n(4256),me=n(5444),ue=(n(3405),n(5255)),de=n(4171),fe=n(3501),he=n(2874),Ee=n(4729),ve=n(3815),ge=n(8880),ye=n(1768),Ze=function(e){var t=e.inquiry,n=e.open,r=e.onClose,a=e.onAction,o=(0,de.P)(),i=((0,fe.ZE)(),l.useState("")),c=i[0],p=i[1],s=l.useState(""),m=s[0],u=s[1],d=l.useState(""),f=d[0],h=d[1],E=l.useState(""),v=E[0],Z=E[1],x=l.useState(null),k=x[0],w=x[1],C=l.useState(null),W=C[0],S=C[1],P=l.useState(null),A=P[0],B=P[1],K=l.useState(null),N=K[0],T=K[1],D=l.useState(""),R=D[0],M=D[1],I=l.useState(""),F=I[0],H=I[1],z=l.useState(""),$=z[0],j=z[1],G=[(0,ue.w)("/desa/geolookup"),(0,ue.w)(k&&"/desa/geolookup?id="+k),(0,ue.w)(W&&"/desa/geolookup?id="+W),(0,ue.w)(A&&"/desa/geolookup?id="+A)],L=G[0],Y=G[1],O=G[2],X=G[3],q=[l.useMemo((function(){return k&&L?L.descendants.find((function(e){return e.id==k})).name:""}),[k,L]),l.useMemo((function(){return W&&Y?Y.descendants.find((function(e){return e.id==W})).name:""}),[W,Y]),l.useMemo((function(){return A&&O?O.descendants.find((function(e){return e.id==A})).name:""}),[A,O]),l.useMemo((function(){return N&&X?X.descendants.find((function(e){return e.id==N})).name:""}),[N,X])],J=q[0],U=q[1],V=q[2],ee=q[3];l.useEffect((function(){if(t){var e=t.geocode;e||(e=o?o.account.geocode||o.nik.substr(0,6):""),p(t.label),u(t.name||o.name),h(t.phone||o.phone),Z(t.email),w(e.substr(0,2)),S(e.substr(0,4)),B(e.substr(0,6)),T(e.length>6?e:""),M(t.street),H(t.complement),j(t.postal)}}),[t]);return l.createElement(g,{open:n,onClose:r,scroll:"body",fullWidth:!0,maxWidth:!1},l.createElement(b,null,null!=t&&t.id?"Edit Alamat":"Masukkan Alamat",l.createElement(Q,{flexGrow:1}),(null==t?void 0:t.id)&&(null==t?void 0:t.id)!==(null==o?void 0:o.account.address)&&l.createElement(ne.Z,{onClick:function(){(0,ve.A$)("Yakin ingin alamat ini default?").then((function(e){e&&a({action:"makeDefault"})}))},variant:"outlined",color:"secondary"},"Jadikan Default")),l.createElement(_,null,l.createElement(re.Z,null,l.createElement(ae.Z,null,l.createElement(oe.Z,{primary:"Label",secondary:"Rumah/kantor/dsb"}),l.createElement(le.Z,null,l.createElement(ie.Z,{style:{minWidth:"40vw"}},l.createElement(ce.Z,{value:c,onChange:function(e){return p(e.target.value)}})))),l.createElement(ae.Z,null,l.createElement(oe.Z,{primary:"Nama",secondary:"Nama lengkap"}),l.createElement(le.Z,null,l.createElement(ie.Z,{style:{minWidth:"40vw"}},l.createElement(ce.Z,{value:m,onChange:function(e){return u(e.target.value)}})))),l.createElement(ae.Z,null,l.createElement(oe.Z,{primary:"Nomor HP",secondary:"Nomor HP aktif"}),l.createElement(le.Z,null,l.createElement(ie.Z,{style:{minWidth:"40vw"}},l.createElement(ce.Z,{value:f,onChange:function(e){return h(e.target.value)}})))),l.createElement(ae.Z,{divider:!0},l.createElement(oe.Z,{primary:"Email",secondary:"Email aktif (opsional)"}),l.createElement(le.Z,null,l.createElement(ie.Z,{style:{minWidth:"40vw"}},l.createElement(ce.Z,{value:v,onChange:function(e){return Z(e.target.value)}})))),l.createElement(ae.Z,null,l.createElement(oe.Z,{primary:"Negara"}),l.createElement(le.Z,null,l.createElement(ie.Z,{disabled:!0,style:{minWidth:"40vw"}},l.createElement(ce.Z,{value:"Indonesia"})))),l.createElement(ae.Z,null,l.createElement(oe.Z,{primary:"Provinsi"}),l.createElement(le.Z,null,l.createElement(ie.Z,{disabled:!L,style:{minWidth:"40vw"}},l.createElement(pe.Z,{native:!0,value:k,onChange:function(e){w(e.target.value),S(null),B(null),T(null)}},l.createElement("option",{value:""}),L?L.descendants.map((function(e){return l.createElement("option",{key:e.id,value:e.id},e.name)})):[])))),l.createElement(ae.Z,null,l.createElement(oe.Z,{primary:"Kabupaten"}),l.createElement(le.Z,null,l.createElement(ie.Z,{disabled:!Y,style:{minWidth:"40vw"}},l.createElement(pe.Z,{native:!0,value:W,onChange:function(e){S(e.target.value),B(null),T(null)}},l.createElement("option",{value:""}),Y?Y.descendants.map((function(e){return l.createElement("option",{key:e.id,value:e.id},e.name)})):[])))),l.createElement(ae.Z,null,l.createElement(oe.Z,{primary:"Kecamatan"}),l.createElement(le.Z,null,l.createElement(ie.Z,{disabled:!O,style:{minWidth:"40vw"}},l.createElement(pe.Z,{native:!0,value:A,onChange:function(e){B(e.target.value),T(null)}},l.createElement("option",{value:""}),O?O.descendants.map((function(e){return l.createElement("option",{key:e.id,value:e.id},e.name)})):[])))),l.createElement(ae.Z,null,l.createElement(oe.Z,{primary:"Desa"}),l.createElement(le.Z,null,l.createElement(ie.Z,{disabled:!X,style:{minWidth:"40vw"}},l.createElement(pe.Z,{native:!0,value:N,onChange:function(e){T(e.target.value)}},l.createElement("option",{value:""}),X?X.descendants.map((function(e){return l.createElement("option",{key:e.id,value:e.id},e.name)})):[])))),l.createElement(ae.Z,null,l.createElement(oe.Z,{primary:"Jalan",secondary:"No. RT/RW/Blok"}),l.createElement(le.Z,null,l.createElement(ie.Z,{style:{minWidth:"40vw"}},l.createElement(ie.Z,{style:{minWidth:"40vw"}},l.createElement(ce.Z,{value:R,onChange:function(e){return M(e.target.value)}}))))),l.createElement(ae.Z,null,l.createElement(oe.Z,{primary:"Kompleks",secondary:"Nama Ruko/Gedung"}),l.createElement(le.Z,null,l.createElement(ie.Z,{style:{minWidth:"40vw"}},l.createElement(ie.Z,{style:{minWidth:"40vw"}},l.createElement(ce.Z,{value:F,onChange:function(e){return H(e.target.value)}}))))),l.createElement(ae.Z,null,l.createElement(oe.Z,{primary:"Kode Pos"}),l.createElement(le.Z,null,l.createElement(ie.Z,{style:{minWidth:"40vw"}},l.createElement(ie.Z,{style:{minWidth:"40vw"}},l.createElement(ce.Z,{value:$,onChange:function(e){return j(e.target.value)}}))))),l.createElement(ae.Z,null,l.createElement("div",null,l.createElement(oe.Z,{primary:"Contoh Penulisan Alamat"}),l.createElement(y.Z,{style:{marginLeft:"40px"}},l.createElement("b",null,m),l.createElement("br",null),v," / ",f,",",l.createElement("br",null),F,", ",R,",",l.createElement("br",null),ee,", ",V,", ",U,", ",l.createElement("br",null),J,", ",$,l.createElement("br",null)))))),l.createElement(te,null,(null==t?void 0:t.id)&&l.createElement(ne.Z,{onClick:function(){(0,ve.A$)("Yakin ingin menghapus alamat ini?").then((function(e){e&&a({action:"delete"})}))},variant:"outlined",color:"secondary"},"Hapus"),l.createElement(Q,{flexGrow:1}),l.createElement(ne.Z,{onClick:r,color:"primary"},"Batal"),l.createElement(ne.Z,{onClick:function(e){a({action:"update",label:c,name:m,phone:f,email:v,geocode:N,country:"Indonesia",state:J,region:U,city:V,district:ee,street:R,complement:F,coordinate:null,postal:$})},variant:"contained",color:"primary",disabled:!(ee&&c&&m&&R&&f&&parseInt($)&&F)},"Simpan")))},be=function(){var e=(0,de.P)(),t=l.useState(1),n=t[0],r=t[1],a=(0,ue.w)("/market/address/?refresh="+n),o=l.useState(null),i=o[0],c=o[1],p=function(){c({id:null,label:"",name:"",phone:"",email:"",geocode:"",country:"",state:"",region:"",city:"",district:"",street:"",complement:"",coordinate:null,postal:""})},s=function(e){ue.Z.post("/market/address/"+(i.id||""),e).then((function(){(0,ve.Fu)("Berhasil disimpan"),r(n+1),c(null)})).catch((function(e){var t;alert((null===(t=e.response)||void 0===t?void 0:t.data.message)||e.message)}))};return l.createElement(he.Z,{data:e&&a},(function(){return l.createElement("div",null,l.createElement(Ee.Z,null),l.createElement(re.Z,null,l.createElement(ae.Z,null,l.createElement(se.Z,null,l.createElement(me.Link,{color:"inherit",to:"/user/profile/"},"Pengaturan Akun"),l.createElement(y.Z,{color:"textPrimary"},"Atur Data Alamat")),l.createElement(le.Z,null,l.createElement(ne.Z,{startIcon:l.createElement(ge.Z,null),onClick:p,variant:"contained",color:"primary"},"Tambah Alamat"))),a.data.map((function(e){return l.createElement(ae.Z,{key:e.id,button:!0,onClick:function(){return c(e)}},l.createElement(oe.Z,{primary:l.createElement(l.Fragment,null,e.label,e.coordinate&&l.createElement(ye.Z,{fontSize:"small"})),secondary:l.createElement(l.Fragment,null,e.name+", "+e.district+",",l.createElement("br",null)," "+e.city+", "+e.region+", "+e.postal)}))})),0===a.data.length&&l.createElement(ae.Z,null,l.createElement(Q,{fontStyle:"italic",width:"100%",padding:"20px"},l.createElement(y.Z,{align:"center"},"Belum ada data alamat")))),l.createElement(Ze,{key:(null==i?void 0:i.id)||"new",open:null!==i,onAction:s,inquiry:i,onClose:function(){return c(null)}}))}))}}}]);
//# sourceMappingURL=component---src-pages-user-alamat-jsx-56787318e377773ef723.js.map