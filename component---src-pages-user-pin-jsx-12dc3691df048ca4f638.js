(self.webpackChunkmainserv=self.webpackChunkmainserv||[]).push([[742],{6763:function(e,t,n){"use strict";var a=n(9321),r=n(6422),l=n(453),i=n(5733),u=n(1218),c=n(7294),o=n(3501),s=n(2874);t.Z=function(e){var t=e.open,n=e.submitting,m=e.onClose,p=e.onAction,f=e.message,d=void 0===f?null:f,v=((0,o.ZE)(),c.useState("")),E=v[0],g=v[1],Z=function(e){e.target.value.length>=6?(p(e.target.value),g("")):g(e.target.value)};return c.createElement(a.Z,{open:t,onClose:m,fullWidth:!0},c.createElement(r.Z,null,c.createElement(l.Z,{align:"center",variant:"h6"},d||"Masukkan PIN")),c.createElement(i.Z,null,c.createElement(s.Z,{data:!n,visible:t},(function(){return c.createElement(c.Fragment,null,c.createElement(u.Z,{type:"password",inputProps:{inputMode:"numeric",style:{textAlign:"center"}},value:E,onChange:Z,fullWidth:!0,autoFocus:!0}))}))))}},7264:function(e,t,n){"use strict";n.r(t);var a=n(7294),r=n(4171),l=n(2874),i=n(5255),u=n(4729),c=n(791),o=n(4381),s=n(4256),m=n(453),p=n(1218),f=n(3332),d=n(5444),v=n(6763);t.default=function(){var e=(0,r.P)(),t=a.useRef(null),n=a.useState(0),E=n[0],g=n[1],Z=function(e){e.preventDefault(),/^\d{6}$/.test(t.current.newpin.value)?g(1):alert("Pin baru harus 6 digit")},h=function(e){var n;e===t.current.newpin.value?(g(2),i.Z.post("/auth/pin",{oldPin:(null===(n=t.current.oldpin)||void 0===n?void 0:n.value)||null,newPin:t.current.newpin.value}).then((function(){alert("Berhasil disimpan"),(0,d.navigate)("/user/profile/")})).catch((function(e){var t;alert((null===(t=e.response)||void 0===t?void 0:t.data.message)||e.message),g(0)}))):alert("Konfirmasi pin tidak sama")};return a.createElement(l.Z,{data:e},(function(){return a.createElement(a.Fragment,null,a.createElement(u.Z,null),a.createElement("form",{onSubmit:Z,ref:t},a.createElement(c.Z,null,a.createElement(o.Z,null,a.createElement(s.Z,null,a.createElement(d.Link,{color:"inherit",to:"/user/profile/"},"Pengaturan Akun"),a.createElement(m.Z,{color:"textPrimary"},"Atur PIN Transaksi"))),e.features.billing&&a.createElement(o.Z,{style:{flexDirection:"column"}},a.createElement(m.Z,{align:"center",variant:"h6"},"Masukkan PIN Lama"),a.createElement(p.Z,{type:"password",name:"oldpin",inputProps:{inputMode:"numeric",style:{textAlign:"center"},maxLength:6},fullWidth:!0})),a.createElement(o.Z,{style:{flexDirection:"column"}},a.createElement(m.Z,{align:"center",variant:"h6"},"Masukkan PIN Baru"),a.createElement(p.Z,{type:"password",name:"newpin",inputProps:{inputMode:"numeric",style:{textAlign:"center"},maxLength:6},fullWidth:!0})),a.createElement(o.Z,null,a.createElement(f.Z,{type:"submit",variant:"contained",color:"primary",fullWidth:!0},"Simpan")))),a.createElement(v.Z,{open:E>=1,submitting:2===E,message:"Konfirmasi PIN Baru",onAction:h,onClose:function(){return g(0)}}))}))}}}]);
//# sourceMappingURL=component---src-pages-user-pin-jsx-12dc3691df048ca4f638.js.map