"use strict";(self.webpackChunkmainapp=self.webpackChunkmainapp||[]).push([[742],{9872:function(e,n,t){t.r(n);var a=t(7378),l=t(9771),r=t(3018),i=t(9374),u=t(5213),c=t(7576),o=t(6408),s=t(7808),m=t(4800),p=t(1126),f=t(1777),d=t(5414),v=t(2628);n.default=function(){var e=(0,l.P)(),n=a.useRef(null),t=a.useState(0),E=t[0],g=t[1],Z=function(e){e.preventDefault(),/^\d{6}$/.test(n.current.newpin.value)?g(1):alert("Pin baru harus 6 digit")},h=function(e){var t;e===n.current.newpin.value?(g(2),i.Z.post("/auth/pin",{oldPin:(null===(t=n.current.oldpin)||void 0===t?void 0:t.value)||null,newPin:n.current.newpin.value}).then((function(){alert("Berhasil disimpan"),(0,d.navigate)("/user/profile/")})).catch((function(e){var n;alert((null===(n=e.response)||void 0===n?void 0:n.data.message)||e.message),g(0)}))):alert("Konfirmasi pin tidak sama")};return a.createElement(r.Z,{data:e},(function(){return a.createElement(a.Fragment,null,a.createElement(u.Z,null),a.createElement("form",{onSubmit:Z,ref:n},a.createElement(c.Z,null,a.createElement(o.Z,null,a.createElement(s.Z,null,a.createElement(d.Link,{color:"inherit",to:"/user/profile/"},"Pengaturan Akun"),a.createElement(m.Z,{color:"textPrimary"},"Atur PIN Transaksi"))),e.features.billing&&a.createElement(o.Z,{style:{flexDirection:"column"}},a.createElement(m.Z,{align:"center",variant:"h6"},"Masukkan PIN Lama"),a.createElement(p.Z,{type:"password",name:"oldpin",inputProps:{inputMode:"numeric",style:{textAlign:"center"},maxLength:6},fullWidth:!0})),a.createElement(o.Z,{style:{flexDirection:"column"}},a.createElement(m.Z,{align:"center",variant:"h6"},"Masukkan PIN Baru"),a.createElement(p.Z,{type:"password",name:"newpin",inputProps:{inputMode:"numeric",style:{textAlign:"center"},maxLength:6},fullWidth:!0})),a.createElement(o.Z,null,a.createElement(f.Z,{type:"submit",variant:"contained",color:"primary",fullWidth:!0},"Simpan")))),a.createElement(v.Z,{open:E>=1,submitting:2===E,message:"Konfirmasi PIN Baru",onAction:h,onClose:function(){return g(0)}}))}))}},2628:function(e,n,t){var a=t(725),l=t(3661),r=t(4800),i=t(2982),u=t(1126),c=t(7378),o=t(4297),s=t(3018);n.Z=function(e){var n=e.open,t=e.submitting,m=e.onClose,p=e.onAction,f=e.message,d=void 0===f?null:f,v=((0,o.ZE)(),c.useState("")),E=v[0],g=v[1],Z=function(e){e.target.value.length>=6?(p(e.target.value),g("")):g(e.target.value)};return c.createElement(a.Z,{open:n,onClose:m,fullWidth:!0},c.createElement(l.Z,null,c.createElement(r.Z,{align:"center",variant:"h6"},d||"Masukkan PIN")),c.createElement(i.Z,null,c.createElement(s.Z,{data:!t,visible:n},(function(){return c.createElement(c.Fragment,null,c.createElement(u.Z,{type:"password",inputProps:{inputMode:"numeric",style:{textAlign:"center"}},value:E,onChange:Z,fullWidth:!0,autoFocus:!0}))}))))}}}]);
//# sourceMappingURL=component---src-pages-user-pin-jsx-595d6514162f2e5d2c90.js.map